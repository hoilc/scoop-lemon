{
    "version": "1.0.7-beta.1",
    "description": "A cross-platform GUI proxy utility (Empowered by sing-box)",
    "homepage": "https://github.com/throneproj/Throne",
    "license": "GPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "https://github.com/throneproj/Throne/releases/download/1.0.7-beta.1/Throne-1.0.7-beta.1-windows64.zip",
            "hash": "6296e3e4b3d74a7d7d5fefdb3084845ce5a1a68536803f673ea9714d3b16f56b"
        },
        "32bit": {
            "url": "https://github.com/throneproj/Throne/releases/download/1.0.7-beta.1/Throne-1.0.7-beta.1-windows32.zip",
            "hash": "3b4d33ce62133bfcd0d54f8e7e98a9d0bd0d0de7b71a128b29695106d190f2d7"
        },
        "arm64": {
            "url": "https://github.com/throneproj/Throne/releases/download/1.0.7-beta.1/Throne-1.0.7-beta.1-windows-arm64.zip",
            "hash": "868bed14b03975ea81e27096fb36d779f2d151d5d72e0f3332f3d2fab722540c"
        }
    },
    "extract_dir": "Throne",
    "shortcuts": [
        [
            "Throne.exe",
            "Throne"
        ]
    ],
    "pre_install": [
        "if (!(Test-Path \"$persist_dir\\config\") -and (installed 'nekoray' $global)) { Write-Host -NoNewline \"Migrating config from nekoray...\" ; Copy-Item -Path \"$(appdir nekoray $global)\\current\\config\" -Destination \"$persist_dir\\config\" -Recurse }",
        "if ((Test-Path \"$persist_dir\\config\") -and (Test-Path \"$persist_dir\\config.bak\")) { Remove-Item \"$persist_dir\\config.bak\" -Force -Recurse }",
        "if (Test-Path \"$persist_dir\\config\") { Write-Host -NoNewline \"Backing up existing config...\" ; Copy-Item -Path \"$persist_dir\\config\" -Destination \"$persist_dir\\config.bak\" -Recurse }"
    ],
    "post_install": "Remove-Item \"$dir\\updater*\" -Force -Recurse",
    "persist": "config",
    "checkver": {
        "url": "https://github.com/throneproj/Throne/releases.atom",
        "regex": "Repository/\\d+/(.+?)<"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/throneproj/Throne/releases/download/$version/Throne-$version-windows64.zip"
            },
            "32bit": {
                "url": "https://github.com/throneproj/Throne/releases/download/$version/Throne-$version-windows32.zip"
            },
            "arm64": {
                "url": "https://github.com/throneproj/Throne/releases/download/$version/Throne-$version-windows-arm64.zip"
            }
        }
    }
}
